(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc139c32"],{"11fd":function(e,t,s){"use strict";s("3be4")},"3be4":function(e,t,s){},5530:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));s("b64b"),s("a4d3"),s("4de4"),s("e439"),s("159b"),s("dbb4");var i=s("ade3");function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function n(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}},b64b:function(e,t,s){var i=s("23e7"),a=s("7b0b"),n=s("df75"),r=s("d039"),o=r((function(){n(1)}));i({target:"Object",stat:!0,forced:o},{keys:function(e){return n(a(e))}})},cec9:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"management"},[s("rainbow-nav-new"),s("div",{staticClass:"rainbow-panel"},[s("div",{staticClass:"rainbow-nav-box"},[s("div",{staticClass:"nav-item ",class:{active:0==e.activeIndex},on:{click:function(t){e.activeIndex=0}}},[e._v(" Role management ")]),s("div",{staticClass:"nav-item",class:{active:1==e.activeIndex},on:{click:function(t){e.activeIndex=1}}},[e._v(" Authority management ")]),s("div",{staticClass:"nav-item",class:{active:2==e.activeIndex},on:{click:function(t){e.activeIndex=2}}},[e._v(" Route management ")])]),s("div",{staticClass:"content"},[s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.activeIndex,expression:"activeIndex==0"}],staticClass:"role"},[s("div",{staticClass:"title"},[e._v(" Role management ")]),s("div",{staticClass:"role-list"},[s("div",{staticClass:"sub-title"},[e._v(" All Roles: ")]),e._l(e.listRoles,(function(t){return s("div",{staticClass:"role-item"},[s("div",{staticClass:"name"},[e._v(" "+e._s(t)+" ")])])})),s("div",{staticClass:"role-item"},[s("strong",[e._v("Add Role:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.roleInfo,expression:"roleInfo"}],staticClass:"add-input",attrs:{type:"text",placeholder:"Add role name"},domProps:{value:e.roleInfo},on:{input:function(t){t.target.composing||(e.roleInfo=t.target.value)}}})])],2),s("div",{staticClass:"confirm-btn rainbow-btn",on:{click:e.addRole}},[e._v(" confirm ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.activeIndex,expression:"activeIndex==1"}],staticClass:"authority"},[s("div",{staticClass:"title"},[e._v(" Authority management ")]),s("div",{staticClass:"manager-list"},e._l(e.authList,(function(t,i){return s("div",{key:i,staticClass:"manager-item"},[e._m(0,!0),s("div",{staticClass:"name"},[e._v(" "+e._s(t.name)+" ")]),e._v(": "),s("div",{staticClass:"privileges"},e._l(t.privileges,(function(t,i){return s("div",{key:i,staticClass:"item"},[e._v(" "+e._s(t)+" ")])})),0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newprivilege,expression:"item.newprivilege"}],attrs:{type:"text",placeholder:"new privilege"},domProps:{value:t.newprivilege},on:{input:function(s){s.target.composing||e.$set(t,"newprivilege",s.target.value)}}}),s("div",{staticClass:"confirm-btn ",on:{click:function(s){return e.roleInsertPrivilege(t)}}},[e._v(" Add ")])])})),0)]),s("div",{directives:[{name:"show",rawName:"v-show",value:2==e.activeIndex,expression:"activeIndex==2"}],staticClass:"route"},[s("div",{staticClass:"title"},[e._v(" Route management ")]),s("div",{staticClass:"route-list"},e._l(e.routerList,(function(t,i){return s("div",{key:i,staticClass:"route-item"},[e._m(1,!0),s("div",{staticClass:"name"},[s("strong",[e._v("name")]),e._v(":"+e._s(i)+" ")]),s("div",{staticClass:"address"},[s("strong",[e._v("address")]),e._v(":"+e._s(t)+" ")])])})),0),s("div",{staticClass:"add-item"},[s("strong",[e._v("add router:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.routerName,expression:"routerName"}],staticClass:"add-input",attrs:{type:"text",placeholder:"Add route name"},domProps:{value:e.routerName},on:{input:function(t){t.target.composing||(e.routerName=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.routerValue,expression:"routerValue"}],staticClass:"add-input",attrs:{type:"text",placeholder:"Add route address"},domProps:{value:e.routerValue},on:{input:function(t){t.target.composing||(e.routerValue=t.target.value)}}})]),s("div",{staticClass:"confirm-btn rainbow-btn",on:{click:e.addRoute}},[e._v(" confirm ")])])])]),s("page-footer")],1)},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"icon"},[s("img",{attrs:{src:"",alt:""}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"icon"},[s("img",{attrs:{src:"",alt:""}})])}],n=s("2909"),r=s("5530"),o=(s("159b"),s("b0c0"),s("2f62")),c={name:"management",data:function(){return{activeIndex:0,roleInfo:void 0,listRoles:[],authList:[],routerName:void 0,routerValue:void 0,privilege:void 0,routerList:[],roleAddress:"",routerAddress:"",authAddress:""}},mounted:function(){var e=this;this.getData(),this.$eventBus.$on("message",(function(){e.getData()}))},beforeDestroy:function(){this.$eventBus.$on("message",(function(){}))},computed:Object(r["a"])({},Object(o["b"])(["account","isConnected"])),watch:{isConnected:function(){this.getData()}},methods:{getData:function(){var e=this;this.isConnected&&(this.$store.dispatch("core/getRoleAddr").then((function(t){e.roleAddress=t,e.$store.dispatch("roleManage/listRoles",e.roleAddress).then((function(t){e.authList=[],t&&(t.forEach((function(t){var s=[];e.$store.dispatch("roleManage/listRolePrivileges",{name:t,address:e.roleAddress}).then((function(e){e&&s.push.apply(s,Object(n["a"])(e))})),e.authList.push({privileges:s,name:t})})),e.listRoles=t)}))})),this.$store.dispatch("core/getAuthAddr").then((function(t){e.authAddress=t})),this.$store.dispatch("core/getRouteAddr").then((function(t){console.log(t),e.routerAddress=t,e.$store.dispatch("routerMap/listRoute",t).then((function(t){console.log(t),e.routerList=t}))})))},roleInsertPrivilege:function(e){e.newprivilege?this.$store.dispatch("core/roleInsertPrivilege",{name:e.name,privilege:e.newprivilege}):this.$eventBus.$emit("message",{type:"error",message:"input Privilege please"})},addRoute:function(){var e=this;this.routerName?this.$store.dispatch("core/addRoute",{name:this.routerName,routeValue:this.routerValue}).then((function(){e.getData()})):this.$eventBus.$emit("message",{type:"error",message:"input routerName please"})},addRole:function(){this.roleInfo?this.$store.dispatch("core/addRole",this.roleInfo):this.$eventBus.$emit("message",{type:"error",message:"input roleInfo please"})}}},l=c,d=(s("11fd"),s("2877")),u=Object(d["a"])(l,i,a,!1,null,"f05fc116",null);t["default"]=u.exports},dbb4:function(e,t,s){var i=s("23e7"),a=s("83ab"),n=s("56ef"),r=s("fc6a"),o=s("06cf"),c=s("8418");i({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){var t,s,i=r(e),a=o.f,l=n(i),d={},u=0;while(l.length>u)s=a(i,t=l[u++]),void 0!==s&&c(d,t,s);return d}})},e439:function(e,t,s){var i=s("23e7"),a=s("d039"),n=s("fc6a"),r=s("06cf").f,o=s("83ab"),c=a((function(){r(1)})),l=!o||c;i({target:"Object",stat:!0,forced:l,sham:!o},{getOwnPropertyDescriptor:function(e,t){return r(n(e),t)}})}}]);
//# sourceMappingURL=chunk-fc139c32.01f1f0ab.js.map