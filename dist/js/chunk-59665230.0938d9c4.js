(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59665230"],{5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4");var s=a("ade3");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"5e53":function(t,e,a){"use strict";a("6987")},6987:function(t,e,a){},b64b:function(t,e,a){var s=a("23e7"),n=a("7b0b"),o=a("df75"),i=a("d039"),r=i((function(){o(1)}));s({target:"Object",stat:!0,forced:r},{keys:function(t){return o(n(t))}})},dbb4:function(t,e,a){var s=a("23e7"),n=a("83ab"),o=a("56ef"),i=a("fc6a"),r=a("06cf"),c=a("8418");s({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,a,s=i(t),n=r.f,l=o(s),d={},u=0;while(l.length>u)a=n(s,e=l[u++]),void 0!==a&&c(d,e,a);return d}})},e439:function(t,e,a){var s=a("23e7"),n=a("d039"),o=a("fc6a"),i=a("06cf").f,r=a("83ab"),c=n((function(){i(1)})),l=!r||c;s({target:"Object",stat:!0,forced:l,sham:!r},{getOwnPropertyDescriptor:function(t,e){return i(o(t),e)}})},f6b5:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-dao"},[a("dao-nav"),a("div",{staticClass:"create-box"},[a("div",{staticClass:"title"},[t._v(" CREATE DAO ")]),a("div",{staticClass:"stage-list"},[a("div",{staticClass:"list-item"},[t._m(0),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.stage,expression:"stage==0"}],staticClass:"stage-content"},[a("div",{staticClass:"stage-panel"},[a("div",{staticClass:"item"},[a("div",{staticClass:"name"},[t._v(" DAO Category ")]),2!=t.selectIndex?a("div",{staticClass:"select-box"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectIndex,expression:"selectIndex"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectIndex=e.target.multiple?a:a[0]},t.getSelected]}},[a("option",{attrs:{selected:"",value:"0"}},[t._v(" mother")]),a("option",{attrs:{value:"1"}},[t._v(" union")])])]):t._e(),2==t.selectIndex?a("div",[t._v(" ChildDao ")]):t._e()]),a("div",{staticClass:"btn-box"},[a("div",{staticClass:"sub-btn",on:{click:t.initDao}},[t._v(" Init ")])])])])]),a("div",{staticClass:"list-item"},[t._m(1),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.stage,expression:"stage==1"}],staticClass:"stage-content"},[a("div",{staticClass:"stage-panel"},[a("div",{staticClass:"item"},[a("div",{staticClass:"name"},[t._v(" DAO Name ")]),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.daoInfo.name,expression:"daoInfo.name"}],attrs:{type:"text",placeholder:"Enter"},domProps:{value:t.daoInfo.name},on:{input:function(e){e.target.composing||t.$set(t.daoInfo,"name",e.target.value)}}})])]),a("div",{staticClass:"item"},[a("div",{staticClass:"name"},[t._v(" DAO Logo ")]),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.daoInfo.logo,expression:"daoInfo.logo"}],attrs:{type:"text",placeholder:"Enter"},domProps:{value:t.daoInfo.logo},on:{input:function(e){e.target.composing||t.$set(t.daoInfo,"logo",e.target.value)}}})])]),a("div",{staticClass:"item"},[a("div",{staticClass:"name"},[t._v(" DAO Introduction ")]),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.daoInfo.desc,expression:"daoInfo.desc"}],attrs:{type:"text",placeholder:"Enter"},domProps:{value:t.daoInfo.desc},on:{input:function(e){e.target.composing||t.$set(t.daoInfo,"desc",e.target.value)}}})])]),a("div",{staticClass:"btn-box"},[a("div",{staticClass:"sub-btn",on:{click:t.next}},[t._v(" Next ")])])])])]),a("div",{staticClass:"list-item"},[t._m(2),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.stage,expression:"stage==2"}],staticClass:"stage-content animate__animated  animate__fadeIn"},[a("div",{staticClass:"stage-panel"},[a("div",{staticClass:"item"},[a("div",{staticClass:"name"},[t._v(" Token Name ")]),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tokenInfo.tokenName,expression:"tokenInfo.tokenName"}],attrs:{type:"text",placeholder:"Enter"},domProps:{value:t.tokenInfo.tokenName},on:{input:function(e){e.target.composing||t.$set(t.tokenInfo,"tokenName",e.target.value)}}})])]),a("div",{staticClass:"item"},[a("div",{staticClass:"name"},[t._v(" Token Symbol ")]),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tokenInfo.symbol,expression:"tokenInfo.symbol"}],attrs:{type:"text",placeholder:"Enter"},domProps:{value:t.tokenInfo.symbol},on:{input:function(e){e.target.composing||t.$set(t.tokenInfo,"symbol",e.target.value)}}})])]),a("div",{staticClass:"item"},[a("div",{staticClass:"name"},[t._v(" Token Decimals ")]),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tokenInfo.decimals,expression:"tokenInfo.decimals"}],attrs:{type:"number",placeholder:"Enter"},domProps:{value:t.tokenInfo.decimals},on:{input:function(e){e.target.composing||t.$set(t.tokenInfo,"decimals",e.target.value)}}})])]),a("div",{staticClass:"item"},[a("div",{staticClass:"name"},[t._v(" Token Total Supply ")]),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tokenInfo.totalSupply,expression:"tokenInfo.totalSupply"}],attrs:{type:"number",placeholder:"Enter"},domProps:{value:t.tokenInfo.totalSupply},on:{input:function(e){e.target.composing||t.$set(t.tokenInfo,"totalSupply",e.target.value)}}})])]),a("div",{staticClass:"btn-box"},[a("div",{staticClass:"back-btn",on:{click:function(e){t.stage>0&&(t.stage-=1)}}},[t._v(" back ")]),a("div",{staticClass:"sub-btn",on:{click:function(e){return t.initBase()}}},[t._v(" Init Dao Info ")])])])])]),a("div",{staticClass:"list-item "},[t._m(3),a("div",{directives:[{name:"show",rawName:"v-show",value:3==t.stage,expression:"stage==3"}],staticClass:"stage-content  animate__animated  animate__fadeIn"},[a("div",{staticClass:"stage-panel"},[a("p",[t._v(" You're about to create a new DAO on and will have to confirm a transaction with your currently connected wallet. The creation will cost approximately ï¼œ 0.1 Eth. ")]),a("div",{staticClass:"btn-box"},[a("div",{staticClass:"back-btn",on:{click:function(e){t.stage>0&&(t.stage-=1)}}},[t._v(" back ")]),a("div",{staticClass:"sub-btn",on:{click:t.createDao}},[t._v(" Create ")])])])])])])]),a("dao-footer")],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stage-header"},[a("div",{staticClass:"index"},[t._v(" 1 ")]),a("div",{staticClass:"stage-title"},[t._v(" Init Dao ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stage-header"},[a("div",{staticClass:"index"},[t._v(" 2 ")]),a("div",{staticClass:"stage-title"},[t._v(" Basic Settings ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stage-header"},[a("div",{staticClass:"index"},[t._v(" 3 ")]),a("div",{staticClass:"stage-title"},[t._v(" Token Settings ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stage-header"},[a("div",{staticClass:"index"},[t._v(" 4 ")]),a("div",{staticClass:"stage-title"},[t._v(" Termination and liquidation of DAO ")])])}],o=a("1da1"),i=a("5530"),r=(a("96cf"),a("2f62")),c={name:"createDao",data:function(){return{daoAddress:"",count:1,stage:0,memberLength:1,daoInfo:{name:"",logo:"",desc:""},selectIndex:0,category:"mother",tokenInfo:{tokenName:"",symbol:"",decimals:10,totalSupply:0}}},created:function(){console.log(this.$route.params.index),this.$route.params&&(this.selectIndex=this.$route.params.index)},computed:Object(i["a"])({},Object(r["b"])(["isConnected","account"])),beforeDestroy:function(){this.$eventBus.$on("message",null)},methods:{getSelected:function(){1==this.selectIndex?this.category="union":this.category="mother"},initBase:function(){var t=this;this.$store.dispatch("erc20/transfer",{fromAddr:this.account,amount:8e3*Math.pow(10,12),toAddr:this.daoAddress}).then((function(){t.stage<3&&(t.stage=3)})).catch((function(t){console.log(t)}))},getDaoByIndex:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$store.dispatch("daoFactory/getDaoByIndex",t).then((function(t){console.log(t.daoManagerAddr),e.daoAddress=t.daoManagerAddr}));case 2:case"end":return a.stop()}}),a)})))()},getDaosByOwner:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("daoFactory/getDaosByOwner").then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.daoIndexList=a,e.next=3,t.getDaoByIndex(a[a.length-1]);case 3:t.stage<1&&(t.stage=1,2==t.selectIndex&&(console.log("Create child Dao"),t.$store.dispatch("daoManage/createChildDao",{childAddr:t.daoAddress,address:t.$store.state.daoManage.curDaoAddress})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))()},initDao:function(){var t=this,e=this;this.$store.dispatch("daoFactory/initDaoByTemplate",{category:this.category}).then((function(){t.$eventBus.$on("message",(function(t){"success"==t.type&&"Init DAO Success"==t.message&&(e.getDaosByOwner(),e.$eventBus.$on("message",null))}))}))},next:function(t){switch(t){case 1:break;case 2:break}this.stage+=1},createDao:function(){var t=this;this.tokenInfo.owner=this.account;var e={base:this.daoInfo,erc20:this.tokenInfo},a=this;this.$store.dispatch("daoManage/initByParams",{address:this.daoAddress,params:e}).then((function(){t.$eventBus.$on("message",(function(e){"success"==e.type&&"Init DAO Info Success"==e.message&&(console.log(e),a.$eventBus.$on("message",null),t.$router.push({name:"daoManage"}))}))}))}}},l=c,d=(a("5e53"),a("2877")),u=Object(d["a"])(l,s,n,!1,null,"2733dbb8",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-59665230.0938d9c4.js.map