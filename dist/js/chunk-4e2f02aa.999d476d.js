(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e2f02aa"],{"177b":function(t,a,s){},"2cc5":function(t,a,s){"use strict";s("93d0")},4455:function(t,a,s){"use strict";s("94f1")},5530:function(t,a,s){"use strict";s.d(a,"a",(function(){return o}));s("b64b"),s("a4d3"),s("4de4"),s("e439"),s("159b"),s("dbb4");var e=s("ade3");function i(t,a){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);a&&(e=e.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),s.push.apply(s,e)}return s}function o(t){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?i(Object(s),!0).forEach((function(a){Object(e["a"])(t,a,s[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))}))}return t}},"564d":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAACfElEQVRIDbVWy2sTYRD/zbebxybFPqxKCtbee1GpelGR3jx4EArePIkHEURERUFBKIoUUfRv8OBB8AHefODj4uPQ1GMRhbSxEFqsIWmzm2+cb5PGTXZJIo0DyX4z38zvNzvzPZZQl+XMlUNa64tgTACc2bD/25PyIHxWSs0M5W+9M7Fk/go7Ll8l5mmu68a2GSGQZsK14aXbN8lkzlX9hsFqM6CtsYaELHXE9svSY3BDZhJmKbldq3krf7NO6ThoIGWiaiKF5V9lcHG92bFVk37anRpKTgx9D07A3ruzicDLLqB49hF4da0VNqBzRgjaCw2mYO8fg9rW1+QYS9hQQ2lU2xIA3TXW9ZrAjcKuDtmiDN0RREV2aeuCQDqqItwssfu7qD1Txx5woQhvbgGxLUnAqhNVNapzi9A/V9ujy2xHAsQtlG68gFlNiak9YE+j8mQWvBbuSxRbWwJ73y44pw/W1rtkr4ZrK0mdkqdmUCqO8v3X8L4uRmH7tjBBzEJsYhRw4kiePACdW4H7dh7ebA56ueQHqQEH1vgI4kfHkTxzGOsPP4HLLrxsDpA3DAoVtl/a2J++PXF8N9J3p0BCBNNIyVTOKpTvvET53ivfxzk3Cef8JMiWnijyy4aKh+KFx6g8zQbxwz1Qo4N+vRteQiKHFlSmv2FSI/1NPmYesvGssa0Nn41BeP1JxpEStAfHQecIe5ggGNCDcZggIouueTj89kIg11xA3Pfz0Eu/a6vBrQLy41IF3sfvDS/vyw9AGh8UXinB/fAtaJIx5Umuy2dgPtYy0xuV6Lncz2rGXG+9QfyLYjANtjK3PxNf7yWJwTKXvsFunIf/67PlDwDP48zlyDd5AAAAAElFTkSuQmCC"},"5c24":function(t,a,s){"use strict";s("177b")},7892:function(t,a,s){},"7e5f":function(t,a,s){"use strict";s("844c")},"844c":function(t,a,s){},"93d0":function(t,a,s){},"94f1":function(t,a,s){},a643:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"daoManage"},[s("dao-nav"),s("div",{staticClass:"dao-manage-content"},[s("daoHeaderInfo",{on:{joinDao:t.joinDao}}),s("div",{staticClass:"dao-manage-content-box"},[s("div",{staticClass:"box-nav"},[s("div",{staticClass:"item",class:{active:0==t.activeNavIndex},on:{click:function(a){t.activeNavIndex=0}}},[t._v(" HOME ")]),s("div",{staticClass:"item",class:{active:1==t.activeNavIndex},on:{click:function(a){t.activeNavIndex=1}}},[t._v(" PROPOSAL ")]),s("div",{staticClass:"item",class:{active:2==t.activeNavIndex},on:{click:function(a){t.activeNavIndex=2}}},[t._v(" FINANCIAL ")]),s("div",{staticClass:"item",class:{active:3==t.activeNavIndex},on:{click:function(a){t.activeNavIndex=3}}},[t._v(" MEMBER ")])]),s("daoHome",{directives:[{name:"show",rawName:"v-show",value:0==t.activeNavIndex,expression:"activeNavIndex==0"}],attrs:{curDaoControlAddress:t.curDaoControlAddress,"dao-address":t.curDaoAddress,balance:t.balance,"dao-list":t.daoList},on:{chooseDao:t.chooseDao}}),s("proposalList",{directives:[{name:"show",rawName:"v-show",value:1==t.activeNavIndex,expression:"activeNavIndex==1"}],attrs:{coinAddress:t.curDaoControlAddress.erc20Addr,vault:t.curDaoControlAddress.vaultAddr,"proposal-list":t.proposalArr}}),s("daoFinance",{directives:[{name:"show",rawName:"v-show",value:2==t.activeNavIndex,expression:"activeNavIndex==2"}]}),s("daoMember",{directives:[{name:"show",rawName:"v-show",value:3==t.activeNavIndex,expression:"activeNavIndex==3"}],attrs:{"members-list":t.membersList}})],1)],1),s("dao-footer")],1)},i=[],o=s("1da1"),r=s("5530"),n=(s("96cf"),s("3ca3"),s("ddb0"),s("159b"),s("b0c0"),function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"dao-member"},[s("div",{staticClass:"members"},t._l(t.membersList,(function(a,e){return s("div",{key:e,staticClass:"item"},[t._m(0,!0),s("div",{staticClass:"member-info"},[s("div",{staticClass:"name"},[t._v("Address")]),s("div",{staticClass:"address"},[t._v(t._s(a.addr))])])])})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.membersList.length,expression:"membersList.length==0"}],staticClass:"nodata"},[t._v(" No Data ")])])}),d=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:s("de0a"),alt:""}})])}],c={name:"daoMember",props:["membersList"]},l=c,u=(s("5c24"),s("2877")),v=Object(u["a"])(l,n,d,!1,null,"e40bccbc",null),A=v.exports,m=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"proposal-list-box"},[s("div",{staticClass:"proposal-nav"},[t._l(t.navList,(function(a,e){return s("div",{key:e,staticClass:"nav-item",class:{active:t.activeIndex==a.name},on:{click:function(s){t.chooseNav(a),t.activeIndex=a.name}}},[t._v(" "+t._s(a.name)+" ")])})),s("div",{staticClass:"intiate"},[s("div",{staticClass:"rainbow-btn",on:{click:function(a){return t.intiate()}}},[t._v(" INITIATE ")])])],2),s("div",{staticClass:"proposal-list"},t._l(t.proposalList,(function(a,e){return s("div",{directives:[{name:"show",rawName:"v-show",value:a.state==t.activeIndex||"ALL"==t.activeIndex,expression:"item.state==activeIndex || activeIndex=='ALL'"}],key:e,staticClass:"list-item",on:{click:function(s){return t.$router.push({name:"daoProposalDetail",params:{item:a,address:t.address,vault:t.vault,coinAddress:t.coinAddress}})}}},[s("div",{staticClass:"index"},[t._v(" "+t._s(e+1)+" ")]),s("div",{staticClass:"name-box"},[t._m(0,!0),s("div",{staticClass:"name"},[t._v(" "+t._s(a.title)+" ")])]),s("div",{staticClass:"item-content"},[s("div",{staticClass:"content"},[s("div",{staticClass:"item"},[s("div",{staticClass:"name"},[t._v("endBlock")]),s("div",{staticClass:"value"},[t._v(" "+t._s(a.endBlock)+" (blocks) ")])]),s("div",{staticClass:"item"},[s("div",{staticClass:"name"},[t._v("description")]),s("div",{staticClass:"value"},[t._v(" "+t._s(a.desc)+" ")])]),s("div",{staticClass:"item"},[s("div",{staticClass:"name"},[t._v("publicityDelay")]),s("div",{staticClass:"value"},[t._v(" "+t._s(a.publicityDelay)+" (blocks) ")])])]),s("div",{staticClass:"floor"},[s("div",{staticClass:"stage"},[t._v(" "+t._s(a.state)+" ")]),s("div",{staticClass:"date"},[t._v(" block:"+t._s(parseInt(a.endBlock.replace(",",""))-a.publicityDelay)+"~"+t._s(a.endBlock.replace(",",""))+" ")])])])])})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.proposalList||0==t.proposalList.length,expression:"!proposalList || proposalList.length==0"}],staticClass:"nodata"},[t._v(" No Data ")])])},p=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"header-icon"},[e("img",{attrs:{src:s("de0a"),alt:""}})])}],h=s("2f62"),f={name:"proposalList",props:["proposalList","vault","coinAddress"],data:function(){return{activeIndex:"ALL",navList:[{name:"ALL"},{name:"Active"},{name:"Pending"},{name:"Succeeded"},{name:"Executed"},{name:"Canceled"},{name:"Defeated"},{name:"Expired"},{name:"Queued"}]}},computed:Object(r["a"])({},Object(h["b"])(["account","isConnected"])),created:function(){console.log(this.proposalList)},methods:{intiate:function(){this.$router.push({name:"createDaoProposal"})},chooseNav:function(){}}},C=f,g=(s("7e5f"),Object(u["a"])(C,m,p,!1,null,"26748044",null)),b=g.exports,D=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"dao-home"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.balance,expression:"balance"}],staticClass:"balance"},[t._m(0),s("div",{staticClass:"number"},[s("strong",[t._v(t._s(t.balance))]),t._v(" "+t._s(t.coinInfo.name)+" ")]),s("div",{staticClass:"address"},[t._v(" "+t._s(t.daoAddress)+" ")])]),s("div",{staticClass:"part-title-box"},[t._m(1),s("div",{staticClass:"right"},[s("div",{staticClass:"rainbow-btn",on:{click:function(a){return t.createDao(0)}}},[t._v(" CREATE ")])])]),s("div",{staticClass:"dao-list"},t._l(t.daoList,(function(a,e){return a.name?s("div",{key:e,staticClass:"item",on:{click:function(s){return t.chooseDao(a)}}},[s("div",{staticClass:"logo"},[s("img",{attrs:{src:a.logo,alt:""}})]),s("div",{staticClass:"dao-info"},[s("div",{staticClass:"name"},[t._v(" "+t._s(a.name)+" ")]),s("div",{staticClass:"address"},[t._v(" "+t._s(a.daoManagerAddr)+" ")])])]):t._e()})),0),s("div",{staticClass:"part-title-box"},[t._m(2),s("div",{staticClass:"right"},[s("div",{staticClass:"rainbow-btn",on:{click:function(a){return t.createDao(1)}}},[t._v(" CREATE ")])])]),s("div",{staticClass:"dao-list"},t._l(t.daoList,(function(a,e){return"union"==a.category&&a.name?s("div",{key:e,staticClass:"item",on:{click:function(s){return t.chooseDepartment(a,e)}}},[s("div",{staticClass:"logo"},[s("img",{attrs:{src:a.logo,alt:""}})]),s("div",{staticClass:"dao-info"},[s("div",{staticClass:"name"},[t._v(" "+t._s(a.name)+" ")]),s("div",{staticClass:"address"},[t._v(" "+t._s(a.daoManagerAddr)+" ")])])]):t._e()})),0),s("div",{staticClass:"part-title-box"},[t._m(3),s("div",{directives:[{name:"show",rawName:"v-show",value:t.curDaoAddress,expression:"curDaoAddress"}],staticClass:"right"},[s("div",{staticClass:"rainbow-btn",on:{click:function(a){return t.createDao(2)}}},[t._v(" CREATE ")])])]),s("div",{staticClass:"dao-list"},t._l(t.childDaoList,(function(a,e){return s("div",{key:e,staticClass:"item",on:{click:function(s){return t.chooseDepartment(a,e)}}},[s("div",{staticClass:"logo"},[s("img",{attrs:{src:a.logo,alt:""}})]),s("div",{staticClass:"dao-info"},[s("div",{staticClass:"address"},[t._v(" "+t._s(a)+" ")])])])})),0),s("div",{staticClass:"part-title-box"},[t._m(4),s("div",{staticClass:"right"},[s("div",{staticClass:"rainbow-btn",on:{click:function(a){t.isShowAddDepartment=!0}}},[t._v(" CREATE ")])])]),s("div",{staticClass:"dao-list"},t._l(t.departmentList,(function(a,e){return s("div",{key:e,staticClass:"item",on:{click:function(s){return t.chooseDepartment(a,e)}}},[s("div",{staticClass:"logo"},[s("img",{attrs:{src:a.logo,alt:""}})]),s("div",{staticClass:"dao-info"},[s("div",{staticClass:"name"},[t._v(" "+t._s(a.name)+" ")]),s("div",{staticClass:"address"},[t._v(" "+t._s(a.departmentList)+" ")])])])})),0),t._m(5),s("div",{staticClass:"dao-address"},[s("div",{staticClass:"dao-address-item"},[s("div",{staticClass:"dao-address-name"},[t._v(" BASE: ")]),s("div",{staticClass:"dao-address-value"},[t._v(" "+t._s(t.curDaoControlAddress.baseAddr)+" ")])]),s("div",{staticClass:"dao-address-item"},[s("div",{staticClass:"dao-address-name"},[t._v(" ERC20: ")]),s("div",{staticClass:"dao-address-value"},[t._v(" "+t._s(t.curDaoControlAddress.erc20Addr)+" ")])]),s("div",{staticClass:"dao-address-item"},[s("div",{staticClass:"dao-address-name"},[t._v(" VAULT: ")]),s("div",{staticClass:"dao-address-value"},[t._v(" "+t._s(t.curDaoControlAddress.vaultAddr)+" ")])]),s("div",{staticClass:"dao-address-item"},[s("div",{staticClass:"dao-address-name"},[t._v(" PROPOSAL: ")]),s("div",{staticClass:"dao-address-value"},[t._v(" "+t._s(t.curDaoControlAddress.proposalAddr)+" ")])]),s("div",{staticClass:"dao-address-item"},[s("div",{staticClass:"dao-address-name"},[t._v(" SETTING: ")]),s("div",{staticClass:"dao-address-value"},[t._v(" "+t._s(t.curDaoControlAddress.daoSettingAddr)+" ")])]),s("div",{staticClass:"dao-address-item"},[s("div",{staticClass:"dao-address-name"},[t._v(" USER: ")]),s("div",{staticClass:"dao-address-value"},[t._v(" "+t._s(t.curDaoControlAddress.daoUsersAddr)+" ")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowAddDepartment,expression:"isShowAddDepartment"}],staticClass:"rainbow-dialog-box"},[s("div",{staticClass:"mask",on:{click:function(a){t.isShowAddDepartment=!1}}}),s("div",{staticClass:"rainbow-dialog"},[s("div",{staticClass:"dialog-title"},[t._v(" ADD DEPARTMENT ")]),s("div",{staticClass:"dialog-content"},[s("div",{staticClass:"department-form"},[s("div",{staticClass:"input-box"},[s("div",{staticClass:"input-box-title"},[t._v(" DEPARTMENT Name ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.department.name,expression:"department.name"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:t.department.name},on:{input:function(a){a.target.composing||t.$set(t.department,"name",a.target.value)}}})]),s("div",{staticClass:"input-box"},[s("div",{staticClass:"input-box-title"},[t._v(" DEPARTMENT Join Directly ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.department.joinDirectly,expression:"department.joinDirectly"}],attrs:{type:"text",placeholder:"join_directly"},domProps:{value:t.department.joinDirectly},on:{input:function(a){a.target.composing||t.$set(t.department,"joinDirectly",a.target.value)}}})]),s("div",{staticClass:"input-box"},[s("div",{staticClass:"input-box-title"},[t._v(" DEPARTMENT Is Open ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.department.isOpen,expression:"department.isOpen"}],attrs:{type:"text",placeholder:"is_open"},domProps:{value:t.department.isOpen},on:{input:function(a){a.target.composing||t.$set(t.department,"isOpen",a.target.value)}}})]),s("div",{staticClass:"input-box"},[s("div",{staticClass:"input-box-title"},[t._v(" DEPARTMENT Manager ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.department.manager,expression:"department.manager"}],attrs:{type:"text",placeholder:"manager"},domProps:{value:t.department.manager},on:{input:function(a){a.target.composing||t.$set(t.department,"manager",a.target.value)}}})])]),s("div",{staticClass:"rainbow-btn",on:{click:t.addGroup}},[t._v(" Submit ")])])])])])},w=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"sub-title"},[e("img",{attrs:{src:s("e4bd"),alt:""}}),t._v(" BALANCE ")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"left"},[e("img",{attrs:{src:s("e4bd"),alt:""}}),e("div",{staticClass:"part-title-name"},[t._v(" ALL DAO ")]),e("div",{staticClass:"part-title-tip"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"left"},[e("img",{attrs:{src:s("e4bd"),alt:""}}),e("div",{staticClass:"part-title-name"},[t._v(" ALLIANCE ")]),e("div",{staticClass:"part-title-tip"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"left"},[e("img",{attrs:{src:s("e4bd"),alt:""}}),e("div",{staticClass:"part-title-name"},[t._v(" CHILD DAO ")]),e("div",{staticClass:"part-title-tip"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"left"},[e("img",{attrs:{src:s("e4bd"),alt:""}}),e("div",{staticClass:"part-title-name"},[t._v(" DEPARTMENT ")]),e("div",{staticClass:"part-title-tip"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"part-title-box"},[e("div",{staticClass:"left"},[e("img",{attrs:{src:s("e4bd"),alt:""}}),e("div",{staticClass:"part-title-name"},[t._v(" CONTRACTS ")]),e("div",{staticClass:"part-title-tip"})]),e("div",{staticClass:"right"})])}],_={name:"daoHome",props:["daoList","balance","daoAddress","curDaoControlAddress"],data:function(){return{balance:0,departmentList:[],department:{},isShowAddDepartment:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(h["b"])(["isConnected","account"])),{},{coinInfo:function(){return this.$store.state.erc20.coinInfo?this.$store.state.erc20.coinInfo:{}},curDaoAddress:function(){return this.$store.state.daoManage.curDaoAddress},childDaoList:function(){return this.$store.state.daoManage.childDaoList}}),watch:{isConnected:function(){this.getData()},curDaoControlAddress:function(){this.getData()}},created:function(){var t=this;this.$route.params&&(this.curDao=this.$route.params),this.getData(),this.$eventBus.$on("message",(function(a){"success"==a.type&&"Create Department Success"==a.message&&t.listGroup()}))},methods:{createDao:function(t){this.$router.push({name:"createDao",params:{index:t}})},getData:function(){this.curDaoControlAddress.daoUsersAddr&&this.listGroup()},chooseDao:function(t){this.$emit("chooseDao",t)},listGroup:function(){var t=this;this.$store.dispatch("daoUser/listGroup",this.curDaoControlAddress.daoUsersAddr).then((function(a){console.log(a),t.departmentList=a}))},chooseDepartment:function(t,a){this.$router.push({name:"department",params:{departmentInfo:t,departmentAddr:a}})},addGroup:function(){var t=this;this.$store.dispatch("daoUser/addGroup",{daoUserAddress:this.curDaoControlAddress.daoUsersAddr,department:this.department}).then((function(){t.isShowAddDepartment=!1}))}}},x=_,E=(s("4455"),Object(u["a"])(x,D,w,!1,null,"ea1fb176",null)),N=E.exports,y=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"apply-list-box"},[s("div",{staticClass:"apply-list"},t._l(t.list,(function(a,e){return s("div",{key:e,staticClass:"item"},[s("div",{staticClass:"address"},[t._v(" "+t._s(a)+" ")]),s("div",{staticClass:"agree rainbow-button",on:{click:function(s){return t.agree(a)}}},[t._v(" Agree ")])])})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.list.length,expression:"list.length==0"}],staticClass:"nodata"},[t._v(" No Data ")])])},I=[],L={name:"applyList",props:["list","curDao"],methods:{agree:function(t){var a=this;console.log(this.curDao),this.$store.dispatch("daoManage/approveApply",{address:this.curDao.manage,addr:t}).then((function(){a.$emit("getData")}))}}},S=L,T=(s("f580"),Object(u["a"])(S,y,I,!1,null,"e6a9d0b2",null)),O=T.exports,k=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"daoFinance"},[e("div",{staticClass:"opera-btn"},[e("div",{staticClass:"rainbow-button",on:{click:function(a){t.isShowDeposit=!0}}},[t._v(" Deposit ")]),e("div",{staticClass:"rainbow-button",on:{click:function(a){t.isShowWithdraw=!0}}},[t._v(" Withdraw ")])]),e("div",{staticClass:"finance-box"},[e("div",{staticClass:"left"},[e("div",{staticClass:"coin-list"},[e("div",{staticClass:"item"},[e("img",{attrs:{src:s("e4bd"),alt:""}}),e("div",{staticClass:"coin-data"},[e("div",{staticClass:"name"},[t._v(" Total income ")]),e("div",{staticClass:"number"},[t._v(" "+t._s(t.income)+" "+t._s(t.coinInfo.name)+" ")])])]),e("div",{staticClass:"item"},[e("img",{attrs:{src:s("564d"),alt:""}}),e("div",{staticClass:"coin-data"},[e("div",{staticClass:"name"},[t._v(" Used ")]),e("div",{staticClass:"number"},[t._v(" "+t._s(t.expenditure)+" "+t._s(t.coinInfo.name)+" ")])])]),e("div",{staticClass:"item"},[e("img",{attrs:{src:s("c830"),alt:""}}),e("div",{staticClass:"coin-data"},[e("div",{staticClass:"name"},[t._v(" Remaining ")]),e("div",{staticClass:"number"},[t._v(" "+t._s(t.vaultBalance)+" "+t._s(t.coinInfo.symbol)+" ")])])])])]),t._m(0)]),e("div",{staticClass:"finance-detail"},[e("div",{staticClass:"title"},[t._v(" Financial details ")]),e("div",{staticClass:"financial-detail-list"},t._l(t.transferList,(function(a,s){return e("div",{key:s,staticClass:"item"},[e("div",{staticClass:"index"},[t._v(" "+t._s(a.transferId)+" ")]),e("div",{staticClass:"name"},["2"==a.transferDirection?e("div",{staticClass:"income"},[t._v(" "+t._s(a.fromAddress))]):t._e(),"1"==a.transferDirection?e("div",{staticClass:"expenditure"},[t._v(" "+t._s(a.toAddress))]):t._e()]),e("div",{staticClass:"line"}),e("div",{staticClass:"inOrOut"},["2"==a.transferDirection?e("div",{staticClass:"income"},[t._v("Income")]):t._e(),"1"==a.transferDirection?e("div",{staticClass:"expenditure"},[t._v("Expenditure")]):t._e()]),e("div",{staticClass:"time"},[t._v(" "+t._s(new Date(1*a.transferTime.replace(/,/g,"")))+" ")]),e("div",{staticClass:"value"},["2"==a.transferDirection?e("div",{staticClass:"income"},[t._v(t._s(a.value)+" "+t._s(t.coinInfo.symbol))]):t._e(),"1"==a.transferDirection?e("div",{staticClass:"expenditure"},[t._v(t._s(a.value)+" "+t._s(t.coinInfo.symbol))]):t._e()])])})),0)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowDeposit,expression:"isShowDeposit"}],staticClass:"rainbow-dialog-box"},[e("div",{staticClass:"mask",on:{click:function(a){t.isShowDeposit=!1}}}),e("div",{staticClass:"rainbow-dialog",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"dialog-title"},[t._v(" Deposit ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.depositNumber,expression:"depositNumber"}],attrs:{type:"text"},domProps:{value:t.depositNumber},on:{input:function(a){a.target.composing||(t.depositNumber=a.target.value)}}}),e("div",{staticClass:"rainbow-button",on:{click:t.approve}},[t._v(" Approve ")]),e("div",{staticClass:"rainbow-button",on:{click:t.deposit}},[t._v(" Submit ")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowWithdraw,expression:"isShowWithdraw"}],staticClass:"rainbow-dialog-box"},[e("div",{staticClass:"mask",on:{click:function(a){t.isShowWithdraw=!1}}}),e("div",{staticClass:"rainbow-dialog",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"dialog-title"},[t._v(" Withdraw ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.withdrawNumber,expression:"withdrawNumber"}],attrs:{type:"text"},domProps:{value:t.withdrawNumber},on:{input:function(a){a.target.composing||(t.withdrawNumber=a.target.value)}}}),e("div",{staticClass:"rainbow-button",on:{click:t.withdraw}},[t._v(" Submit ")])])])])},B=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"right"},[s("canvas",{attrs:{id:"chart",width:"1508",height:"500"}}),s("div",{attrs:{id:"chartjs-tooltip"}},[s("div",{attrs:{id:"chartjs-tooltip__text"}})])])}],R=(s("d81d"),{name:"daoFinance",data:function(){return{isShowWithdraw:!1,isShowDeposit:!1,transactionList:[{address:"",value:10}],income:0,expenditure:0,depositNumber:0,withdrawNumber:0,options:{responsive:!0},datacollection:null,chartData:[]}},computed:Object(r["a"])(Object(r["a"])({},Object(h["b"])(["isConnected","account"])),{},{vaultBalance:function(){return this.$store.state.daoVault.vaultBalance},transferList:function(){return this.$store.state.daoVault.transferList},coinInfo:function(){return this.$store.state.erc20.coinInfo?this.$store.state.erc20.coinInfo:{}},curDaoAddress:function(){return this.$store.state.daoManage.curDaoAddress},curDaoControlAddress:function(){return this.$store.state.daoManage.curDaoControlAddress}}),watch:{transferList:function(){var t=this;this.income=0,this.expenditure=0,this.chartData=[];var a=0;this.transferList.forEach((function(s){t.chartData.push(a),"2"==s.transferDirection?(t.income+=parseInt(s.value),a+=parseInt(s.value)):(t.expenditure+=parseInt(s.value),a-=parseInt(s.value))})),this.initChart()}},mounted:function(){var t=this;this.fillData(),this.income=0,this.expenditure=0;var a=0;this.transferList.forEach((function(s){t.chartData.push(a),"2"==s.transferDirection?(t.income+=parseInt(s.value),a+=parseInt(s.value)):(t.expenditure+=parseInt(s.value),a-=parseInt(s.value))})),this.initChart()},methods:{initChart:function(){var t=document.getElementById("chart"),a=t.getContext("2d"),s=a.createLinearGradient(0,0,0,window.innerHeight);s.addColorStop(0,"rgba(71, 34, 96, .7)"),s.addColorStop(.9,"rgba(44, 51, 233, .7)"),s.addColorStop(1,"rgba(44, 51, 233, .7)");var e=Chart.controllers.line.extend({initialize:function(){Chart.controllers.line.prototype.initialize.apply(this,arguments);var t=this.chart.ctx,a=t.stroke;t.stroke=function(){t.save(),t.shadowColor="#1a1426",t.shadowOffsetY=5,t.shadowBlur=15,a.apply(this,arguments),t.restore()}}});Chart.controllers.shadowLine=e;var i=this.chartData;new Chart(a,{type:"shadowLine",data:{labels:["","SAT","SUN","MON","TUE","WED","THU","FRI"],datasets:[{label:"",backgroundColor:s,borderColor:"rgb(193, 130, 255)",bezierCurve:!0,pointBackgroundColor:"rgba(255, 255, 255, 1)",pointBorderColor:"rgba(255, 255, 255, 1)",pointRadius:7,pointHoverRadius:7,data:i}]},options:{title:{display:!1},layout:{padding:{left:50}},legend:{labels:{boxWidth:0,fontColor:"rgba(255, 255, 255)",fontSize:16,padding:16}},scales:{xAxes:[{type:"category",gridLines:{color:"rgba(64, 71, 91, 1)",borderDash:[5,2]},ticks:{padding:16}}],yAxes:[{gridLines:{color:"rgba(64, 71, 91, 1)",borderDash:[5,2]},ticks:{min:0,suggestedMax:Math.max.apply(null,i)+this.vaultBalance/7,callback:function(t,a,s){return"$"+t+"     "}}}]},tooltips:{custom:function(t){var a=document.getElementById("chartjs-tooltip"),s=a.querySelector("#chartjs-tooltip__text");if(0!==t.opacity&&(a.classList.remove("above","below","no-transform","active"),t.yAlign?a.classList.add(t.yAlign):a.classList.add("no-transform"),t.body)){t.title;var e=t.body.map(n),i=this._chart.canvas.getBoundingClientRect();a.className+=" active",a.style.top=t.caretY-34+"px",a.style.height=i.height-t.caretY+"px",s.style.width=t.width+"px",a.style.left=i.left+t.caretX+"px",t.opacity=0,s.innerHTML="";for(var o=0;o<e.length;o++){var r=e[o];s.innerHTML+="$"+r}}function n(t){return t.lines}}}}})},getTransferHistory:function(){var t=this;this.$store.dispatch("daoVault/getTransferHistory",this.curDaoControlAddress.vaultAddr).then((function(a){t.$store.commit("daoVault/SET_TRANSFERLIST",a),t.transferList=a}))},approve:function(){this.$store.dispatch("erc20/approve",{address:this.curDaoControlAddress.vaultAddr,coinAddress:this.curDaoControlAddress.erc20Addr})},withdraw:function(){var t=this;this.$store.dispatch("daoVault/withdraw",{address:this.curDaoControlAddress.vaultAddr,erc20Addr:this.curDaoControlAddress.erc20Addr,amount:this.withdrawNumber}).then((function(){t.getTransferHistory(),t.isShowWithdraw=!1})).catch((function(t){alert(t)}))},deposit:function(){var t=this;this.$store.dispatch("daoVault/deposit",{address:this.curDaoControlAddress.vaultAddr,erc20Addr:this.curDaoControlAddress.erc20Addr,amount:this.depositNumber}).then((function(){t.getTransferHistory(),t.isShowDeposit=!1})).catch((function(t){alert(t)}))},fillData:function(){this.datacollection={datasets:[{label:"Data One",backgroundColor:"#fff",data:[1,2]},{label:"Data One",backgroundColor:"#fff",data:[2,1]}]}}}}),M=R,j=(s("b9d4"),Object(u["a"])(M,k,B,!1,null,"8c2bea90",null)),P=j.exports,$={name:"daoManage",components:{daoMember:A,daoHome:N,applyList:O,proposalList:b,daoFinance:P},data:function(){return{balance:0,curDao:{},membersLength:0,activeNavIndex:0,daoList:[],applyArr:[],membersList:[],proposalArr:[],daoIndexList:[]}},computed:Object(r["a"])(Object(r["a"])({},Object(h["b"])(["isConnected","account"])),{},{curDaoAddress:function(){return this.$store.state.daoManage.curDaoAddress},curDaoControlAddress:function(){return this.$store.state.daoManage.curDaoControlAddress?this.$store.state.daoManage.curDaoControlAddress:{}}}),watch:{membersLength:function(){},isConnected:function(){this.getData()}},created:function(){var t=this;this.$route.params&&this.$route.params.activeNavIndex&&(this.activeNavIndex=this.$route.params.activeNavIndex),this.$store.state.daoManage.curDaoControlAddress&&this.getComponentAddrs(),this.getData(),this.$eventBus.$on("message",(function(a){"success"==a.type&&"Join DAO Success"==a.message&&t.listUser(),t.listUser()}))},methods:{getDaoCategory:function(t){return this.$store.dispatch("daoManage/getDaoCategory",t)},getVaultBalance:function(){var t=this;this.$store.dispatch("erc20/getBalanceOf",{toAddr:this.curDaoControlAddress.vaultAddr,address:this.curDaoControlAddress.vaultAddr}).then((function(a){t.$store.commit("daoVault/SET_VAULTBALANCE",a)}))},getTransferHistory:function(){var t=this;this.$store.dispatch("daoVault/getTransferHistory",this.curDaoControlAddress.vaultAddr).then((function(a){t.$store.commit("daoVault/SET_TRANSFERLIST",a)}))},joinDao:function(){this.$store.dispatch("daoUser/join",this.curDaoControlAddress.daoUsersAddr)},listUser:function(){var t=this;this.$store.dispatch("daoUser/listUser",this.curDaoControlAddress.daoUsersAddr).then((function(a){t.membersList=a,t.$store.commit("daoManage/SET_CURDAOMEMBERS",a.length)}))},getDaoBaseInfo:function(t){return this.$store.dispatch("daoBase/getBaseInfo",t)},getBaseInfo:function(){var t=this;this.$store.dispatch("daoBase/getBaseInfo",this.curDaoControlAddress.baseAddr).then((function(a){t.curDao=a,t.$store.commit("daoManage/SET_CURDAO",a)}))},getComponentAddrs:function(){var t=this;this.$store.dispatch("daoManage/getComponentAddress",this.curDaoAddress).then((function(a){t.$store.commit("daoManage/SET_curDaoControlAddress",a),a&&(t.listUser(),t.getBaseInfo(),t.getTransferHistory(),t.getVaultBalance(),t.getProposalList(),t.getCoinInfo(),t.getChildsDaos())}))},chooseDao:function(t){var a=this;this.curDao=t,this.$store.commit("daoManage/SET_CURDAOADDR",t.daoManagerAddr),this.getComponentAddrs(),this.$store.dispatch("app/getBalance",this.curDaoAddress).then((function(t){console.log(t),a.balance=t}))},getCoinInfo:function(){var t=this;this.curDaoControlAddress.erc20Addr&&this.$store.dispatch("erc20/queryInfo",this.curDaoControlAddress.erc20Addr).then((function(a){console.log(a),t.$store.commit("erc20/SET_COIN",a)}))},getDaoControlAddr:function(t){return this.$store.dispatch("daoManage/getComponentAddress",t)},getProposalList:function(){var t=this;this.isConnected&&this.curDaoControlAddress&&this.$store.dispatch("daoProposal/listProposals",this.curDaoControlAddress.proposalAddr).then(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(s){var e,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:console.log(s),e=regeneratorRuntime.mark((function a(e){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("daoProposal/state",{proposalId:s[e].proposalId,address:t.curDaoControlAddress.proposalAddr}).then((function(t){s[e].state=t}));case 2:case"end":return a.stop()}}),a)})),i=0;case 3:if(!(i<s.length)){a.next=8;break}return a.delegateYield(e(i),"t0",5);case 5:i++,a.next=3;break;case 8:t.proposalArr=JSON.parse(JSON.stringify(s));case 9:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},listDao:function(){var t=this;this.$store.dispatch("daoFactory/listDao").then((function(a){a.forEach(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(s){var e,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.getDaoControlAddr(s.daoManagerAddr);case 2:return e=a.sent,a.next=5,t.getDaoCategory(s.daoManagerAddr);case 5:if(i=a.sent,console.log(i),!e.baseAddr){a.next=16;break}return a.next=10,t.getDaoBaseInfo(e.baseAddr);case 10:o=a.sent,s.logo=o.logo,s.name=o.name,s.desc=o.desc,s.owner=o.owner,s.category=i;case 16:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()),console.log(a),t.daoList=a}))},joinedDao:function(){},getChildsDaos:function(){var t=this;this.$store.dispatch("daoManage/getChildsDaos",this.curDaoAddress).then((function(a){t.$store.commit("daoManage/SET_CHILDDAOLIST",a)}))},getData:function(){this.isConnected&&(this.listDao(),this.joinedDao(),this.curDao.manage&&this.getProposalList())}}},U=$,Q=(s("2cc5"),Object(u["a"])(U,e,i,!1,null,"00bb2ab6",null));a["default"]=Q.exports},b64b:function(t,a,s){var e=s("23e7"),i=s("7b0b"),o=s("df75"),r=s("d039"),n=r((function(){o(1)}));e({target:"Object",stat:!0,forced:n},{keys:function(t){return o(i(t))}})},b9d4:function(t,a,s){"use strict";s("ca49")},c830:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAACbUlEQVRIDbVWPWhTURT+zn0vaWJiGm2LRhQ7KFKqkwUnoYggDp100NVB3aVIBV0Ui2RwdHC2W/2dRIeio4o4ieAgBY0VrUltmyZp3vWcl2f6mpyENqkX8t65593zfed89y+EoM1nJo57njcOixHAZv75N/emHAhvjTHZnbnJ1xJL8vi56+o1svaWDfri66YRyLOE6/1zd26TZG6r3oyFNd2ANsYKCTlm1PVl2WJwIZOELUvu1jRfz5+8dx7RU0MyCnC4MI8NKx151d5+J3gQEUqPP2DpynTYLfEjHN08oZHRg6BEDyjZg+rsPOxKxbelb7bHmn7ij44dWQ/u92xG1z1IsvziIxbO3sfi5Sl4P/4oACGXUpl81QkcQvXLLyxyyZaBK68+Y3nyOXgxhBA3ZuoErLnpTyJydH8NJerAPTbI6firemPIwShXHc0Sia6Ju2dg9qbhDGcQO8f7r4OmEwRAJr0NiZtjHcCuhegELIWXX0Yx+xLet0JNGm0S2Wd29yI+fhJwdbVbEtiFFay+m0X1a771AcJSmkwKMR5LfYm1tEOWTrDqwdm3A6npi7DFcmh4s0nxiL9npGKt6QS8WGyxgvLMJ9jfRS2u7qN0HNETh7hKfYXpBHw8eN8LWJp4AjvXfoPRQBLuo0ssVW+dNGzoBCyRGexDauoCbJ4r0JOTswZSgTkwAFvQK9UJOAU5wNzDe8LJtLWZS2362mqVsQrR3skV8DXXcKKWHrxB9PRw+8iGr6WH7xs80qUc8XX5lA/57rarAu27iJ7x/Wyycr21GtOpXzAF28jtb8ne2EoSwZJLX7Dr0/m//rb8BTTozGTaqqXfAAAAAElFTkSuQmCC"},ca49:function(t,a,s){},d81d:function(t,a,s){"use strict";var e=s("23e7"),i=s("b727").map,o=s("1dde"),r=o("map");e({target:"Array",proto:!0,forced:!r},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(t,a,s){var e=s("23e7"),i=s("83ab"),o=s("56ef"),r=s("fc6a"),n=s("06cf"),d=s("8418");e({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var a,s,e=r(t),i=n.f,c=o(e),l={},u=0;while(c.length>u)s=i(e,a=c[u++]),void 0!==s&&d(l,a,s);return l}})},de0a:function(t,a,s){t.exports=s.p+"img/header-icon.8779a1bd.png"},e439:function(t,a,s){var e=s("23e7"),i=s("d039"),o=s("fc6a"),r=s("06cf").f,n=s("83ab"),d=i((function(){r(1)})),c=!n||d;e({target:"Object",stat:!0,forced:c,sham:!n},{getOwnPropertyDescriptor:function(t,a){return r(o(t),a)}})},e4bd:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAAD5ElEQVRIDbVWXWwUVRT+7p3Z3dldW2hRoQgEJG0kMQJqIi0oJTFASAw2UXjEoBhNE4gxQiSRBzQoqYaEB198kahBFOMDSQmEH6GQFGgJCRQUKLSIXWjXUmG6fzN3rufMdifd7oJpwJvM3L9zv+/Md889dwRGymDNxy97nvcRNF4EdE1hfHy1SECgQ0rZUp34vI3XCn4lJ2/aLLT+TI/0eexhioDwtMAnj9/evk2w51p5v2lo+TCgY9cyiTBko+nL8ojBmYwd1iS5sTG+6CvqV5R4UGkhtmUFKr5bA2POFHiJf/DYzlWwmhdD21mEFtehcu86yBlVUF0J6LuZsRDUF5UkS5kNDRmw3l0Ea80C6OQwcr+eI8BamPWzYNQ+ifCrz0BdG4C62o/Im8/DWtsAxMJlCHRNqe4MvrYe0Q1LoDMOMrvaASlhvbMQwjRAuiK8dA7M+dOR+eEMvP57sNYtJGdeKktSTGBKRFa/gNjm5Swi3LZu5PadR3R9I2R1PPBQxCOINM2DutAH5+Al6LSD2KZliLwxH4iGAjtuFBEweLylCYiY8G4MIv31Md87c+60okXcMWZOgvV2A7KtF+Ceu0lrDMS3rfQlA6lQKGahAfIeYRPpLw8BSsPp6CWdk1A9fyP1xYHAbHRD5xQ5cgdpmneOPw1hkfeCjpZBj5O3DAh4E0Gaq95B6MEUXCIIvVLrbzKF8mjcoC1ob8znnoJzshsgcDl1AgQ5GWqYDefoZZJZIyDQd1KIbm+CMb0K3r0Mhtf/BEnt+NbXAsByjfQ3J+iLPcRIHqNmAlT3AOzmPT442wd74J79E/b7u6FIexEPI0Ihmjv8B5zTPeVw/TH38m1/k0MUVXJSHOp6EvYHe/N7MrIqIOC+23ED9nu7fV05DMNL6pDeccSPkhH7oNKuQnbXKchpVQgtmAXv5hDsDT/7GCxNoRQR8IT/Jc0/giWz3qqHl7SR299VsA9qdfEW3K4+hF+fS555sElSdpDlGl2KCXiGSTpJLvpUzrV86LJ7OqH6hoJ1ejiL3KHfEWqsg6SUMvxpq+/YWHBeUErAo0xC2tsf/uKnBlERQZZObaE4J69Bkf5G7RNI7TgM59iVEs8LtuUJeJY+2z3Ti9TWVhjPToXTfj1/Nv4agtN21Y/37LftFP/UzrgFvJI6CNOSGR5gkk7SlQ6UqI4h+/1p8Kl2KUVoCmV1pf+B4AxBBHTNlcuoPMuFSQhQTIz6yc451QPv1l06qSr/5K3u8xYJk+9QSmwPPk0Epgdszn/jK/n7Wbbw9Ta+lf9tzZh8+Uu+/bXQWx4lCWPxpc/Y/l8F+/N//bb8C1vMqwp9vpSdAAAAAElFTkSuQmCC"},f580:function(t,a,s){"use strict";s("7892")}}]);
//# sourceMappingURL=chunk-4e2f02aa.999d476d.js.map